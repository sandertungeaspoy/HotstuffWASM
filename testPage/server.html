<html>
	<head>
		<meta charset="utf-8"/>
		<script src="wasm_exec.js"></script>
		<script>
			const go = new Go();
			WebAssembly.instantiateStreaming(fetch("server.wasm"), go.importObject).then(
				result => {
          			mod = result.module;
          			inst = result.instance;
          			document.getElementById("runButton").disabled = false;
        		}
      		);

      		async function run() {
        		await go.run(inst);
        		inst = await WebAssembly.instantiate(mod, go.importObject); // reset instance
      		}
		</script>
	</head>
	<body>
		<h1>HotStuff WASM Server</h1>
		    Self-ID:<input type="number" id="self-id" step="1" min="1" max="4" name="Server ID">
			<button onClick="GetSelfID('self-id');" id="idButton">Assign</button>
			<button onClick="run();" id="runButton" disabled>Run</button>
	</body>
</html>